(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{4332:function(e,t,a){},"50e2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"justify-center min-height"},[a("div",[a("dt-reserva")],1)])},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-table",{staticClass:"my-sticky-header-table",staticStyle:{"background-color":"#FAFAFA"},attrs:{title:"Reservas",data:e.data,columns:e.columns,flat:"","row-key":"id",pagination:e.pagination,"no-data-label":"Ainda não temos solicitações de reservas",loading:e.loading,filter:e.filter,"visible-columns":e.visibleColumns,"rows-per-page-label":"Registros por páginas","binary-state-sort":""},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"top",fn:function(){return[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col",staticStyle:{display:"block"}},[a("q-icon",{staticStyle:{display:"block"},attrs:{name:"eva-sun-outline",color:"primary",size:"md"}}),a("span",{staticStyle:{font:"25px/36px Avenir Next W01,Helvetica,Arial,sans-serif"}},[e._v("\n              Agendamentos\n            ")]),a("p",{staticClass:"subtitle"},[e._v("\n              Lista de todas solicitações de agendamentos de seus\n              colaboradores.\n            ")])],1)]),a("div",{staticClass:"col-md-6 col-sm-5"},[a("q-btn",{attrs:{flat:"",color:"green",round:"",icon:"eva-funnel-outline"}},[a("q-menu",[a("div",{staticClass:"q-pa-md"},[a("filter-date",{on:{"get-range-start":function(t){return e.filterRange.start=t},"get-range-final":function(t){return e.filterRange.final=t}}})],1)])],1),a("q-input",{staticClass:"q-ml-lg float-right",staticStyle:{"max-width":"40%"},attrs:{dense:"",filled:"",debounce:"300",placeholder:"Busca"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)],1)])]},proxy:!0},{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols.filter((function(e){return"id"!==e.name})),(function(n){return a("q-th",{key:n.name,attrs:{props:t}},[e._v(e._s(n.label))])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"requestUserRegister",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.requestUserRegister))]),a("q-td",{key:"requestUser",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.requestUser))]),a("q-td",{key:"startDate",attrs:{"auto-width":"",props:t}},[e._v(e._s(e._f("moment")(t.row.startDate,"DD-MM-YYYY")))]),a("q-td",{key:"finalDate",attrs:{"auto-width":"",props:t}},[e._v(e._s(e._f("moment")(t.row.finalDate,"DD-MM-YYYY")))]),a("q-td",{key:"daysAllowed",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.daysAllowed))]),a("q-td",{key:"status",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.status))])],1)]}},{key:"bottom",fn:function(t){return e._e()}}],null,!0)}),a("q-dialog",{attrs:{persistent:""},model:{value:e.showDelete,callback:function(t){e.showDelete=t},expression:"showDelete"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-icon",{attrs:{size:"2em",name:"thumb_down",color:"red"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Deseja mesmo excluir a Reserva?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"","no-caps":"",label:"Vou pensar melhor...",color:"grey"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"","no-caps":"",label:"Sim, não quero mais!",color:"red"},on:{click:e.deletePerson}})],1)],1)],1)],1)},o=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("a481"),a("f751"),a("a34a")),l=a.n(i),c=a("448a"),u=a.n(c),p=(a("7f7f"),a("9523")),d=a.n(p),f=(a("96cf"),a("c973")),m=a.n(f),g=a("1f7c"),b=a("b4fb"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-input",{staticClass:"col-4 q-mb-md",attrs:{filled:"",label:"Data inicio",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{locale:e.locale,mask:"DD-MM-YYYY"},model:{value:e.rangeDate.start,callback:function(t){e.$set(e.rangeDate,"start",t)},expression:"rangeDate.start"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Fechar",rounded:"",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"DD-MM-YYYY",format24h:""},model:{value:e.rangeDate.start,callback:function(t){e.$set(e.rangeDate,"start",t)},expression:"rangeDate.start"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Fechar",rounded:"",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.rangeDate.start,callback:function(t){e.$set(e.rangeDate,"start",t)},expression:"rangeDate.start"}}),a("q-input",{staticClass:"col-4",attrs:{filled:"",label:"Data final",dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{locale:e.locale,mask:"DD-MM-YYYY"},model:{value:e.rangeDate.final,callback:function(t){e.$set(e.rangeDate,"final",t)},expression:"rangeDate.final"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Fechar",rounded:"",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"DD-MM-YYYY",format24h:""},model:{value:e.rangeDate.final,callback:function(t){e.$set(e.rangeDate,"final",t)},expression:"rangeDate.final"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Fechar",rounded:"",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.rangeDate.final,callback:function(t){e.$set(e.rangeDate,"final",t)},expression:"rangeDate.final"}})],1)},h=[],D=a("c1df"),y=a.n(D),_=(a("28a5"),{days:"Domingo_Segunda_Terça_Quarta_Quinta_Sexta_Sábado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:1}),w={name:"filter-date",props:{},events:["get-range"],data:function(){return{moment:y.a,locale:_,rangeDate:{start:y()().subtract(1,"d").format("DD-MM-YYYY"),final:y()().format("DD-MM-YYYY")}}},watch:{"rangeDate.start":function(e){this.$emit("get-range-start",e)},"rangeDate.final":function(e){this.$emit("get-range-final",e)}},methods:{getRange:function(){console.log(this.rangeDate),this.$emit("get-range",this.rangeDate)}}},q=w,Y=a("2877"),k=a("27f9"),x=a("0016"),M=a("7cbe"),C=a("52ee"),S=a("9c40"),Q=a("ca78"),O=a("7f67"),P=a("eebe"),j=a.n(P),$=Object(Y["a"])(q,v,h,!1,null,null,null),R=$.exports;function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j()($,"components",{QInput:k["a"],QIcon:x["a"],QPopupProxy:M["a"],QDate:C["a"],QBtn:S["a"],QTime:Q["a"]}),j()($,"directives",{ClosePopup:O["a"]});var U={name:"dt-colaborator",props:["btn-primary"],components:{filterDate:R},data:function(){return{filter:"",filterRange:{start:y()().subtract(1,"month").format("DD-MM-YYYY"),final:y()().format("DD-MM-YYYY")},showDelete:!1,loading:!1,pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:10},visibleColumns:["requestUserRegister","requestUser","startDate","daysAllowed","finalDate","days","status"],columns:[{align:"left",name:"id",label:"id",field:"id",sortable:!0},{align:"left",name:"requestUserRegister",label:"Matricula",field:"requestUserRegister",sortable:!0,style:"width: 10px",headerStyle:"width: 50px"},{align:"left",name:"requestUser",label:"Colaborador",field:"requestUser",sortable:!0,style:"width: 10px",headerStyle:"width: 50px"},{align:"left",name:"startDate",label:"Inicio de Férias",field:"startDate",sortable:!0},{align:"left",name:"finalDate",label:"Final de Férias",field:"finalDate",sortable:!0},{align:"left",name:"daysAllowed",label:"Qtda dias com Direito a Férias",field:"daysAllowed",sortable:!0},{align:"left",name:"status",label:"Status da Solicitação",field:"status",sortable:!0}],data:[]}},created:function(){var e=this;g["a"].$on("on-refresh-person",(function(t){e.refresh()}))},beforeDestroy:function(){g["a"].$off("on-refresh-person")},mounted:function(){this.refresh()},methods:{openDialog:function(){g["a"].$emit("on-new-person")},onRequest:function(e){var t=this;return m()(l.a.mark((function a(){var n,r,s,o,i,c,p,d,f,m,g,v;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.pagination,s=r.page,o=r.rowsPerPage,i=r.sortBy,c=r.descending,t.loading=!0,p=t.filterRange,d=p.start,f=p.final,m={initialDate:y()(d,"DD-MM-YYYY").format("YYYY-MM-DD"),finalDate:y()(f,"DD-MM-YYYY").format("YYYY-MM-DD")},a.next=6,t.$axios.get(b["a"].vacation,{params:m});case 6:g=a.sent,v=g.data,v=v.map((function(e){return F(F({},e),{},{requestUserRegister:e.requestUser.register,requestUserId:e.requestUser.id,requestUser:e.requestUser.name})})),(n=t.data).splice.apply(n,[0,t.data.length].concat(u()(v))),t.pagination.page=s,t.pagination.rowsPerPage=o,t.pagination.sortBy=i,t.pagination.descending=c,t.loading=!1;case 15:case"end":return a.stop()}}),a)})))()},openEdit:function(e){g["a"].$emit("on-edit-person",e)},openDelete:function(e){this.showDelete=!0,this.evaluationFocus=Object.assign({},e)},refresh:function(){this.onRequest({pagination:this.pagination,filter:void 0})},deletePerson:function(){var e=this;return m()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.delete("".concat("/person/{id}".replace("{id}",e.evaluationFocus.id),"/"));case 4:e.$q.notify({color:"positive",type:"positive",message:"Colaborador Excluido com Sucesso!"}),e.evaluationFocus=void 0,e.refresh(),e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},N=U,J=(a("b0ef"),a("eaac")),E=a("4e73"),T=a("bd08"),B=a("357e"),I=a("db86"),z=a("3b16"),W=a("24e8"),H=a("f09f"),L=a("a370"),V=a("4b7e"),G=Object(Y["a"])(N,s,o,!1,null,"53ad3831",null),K=G.exports;j()(G,"components",{QTable:J["a"],QIcon:x["a"],QBtn:S["a"],QMenu:E["a"],QInput:k["a"],QTr:T["a"],QTh:B["a"],QTd:I["a"],QPagination:z["a"],QDialog:W["a"],QCard:H["a"],QCardSection:L["a"],QCardActions:V["a"]}),j()(G,"directives",{ClosePopup:O["a"]});var X={name:"PageReserva",components:{"dt-reserva":K},data:function(){return{}}},Z=X,ee=a("9989"),te=Object(Y["a"])(Z,n,r,!1,null,null,null);t["default"]=te.exports;j()(te,"components",{QPage:ee["a"]})},b0ef:function(e,t,a){"use strict";var n=a("4332"),r=a.n(n);r.a}}]);