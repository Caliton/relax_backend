(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"449d":function(e,t,a){},"50e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"justify-center min-height"},[a("div",[a("dt-reserva")],1)])},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-table",{staticClass:"my-sticky-header-table",staticStyle:{"background-color":"#FAFAFA"},attrs:{title:"Reservas",data:e.data,columns:e.columns,flat:"","row-key":"id",pagination:e.pagination,"no-data-label":"Ainda não temos solicitações de reservas",loading:e.loading,filter:e.filter,"visible-columns":e.visibleColumns,"rows-per-page-label":"Registros por páginas","binary-state-sort":""},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"top",fn:function(){return[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col",staticStyle:{display:"block"}},[a("q-icon",{staticStyle:{display:"block"},attrs:{name:"eva-sun-outline",color:"primary",size:"md"}}),a("span",{staticStyle:{font:"25px/36px Avenir Next W01,Helvetica,Arial,sans-serif"}},[e._v("Agendamentos")]),a("p",{staticClass:"subtitle"},[e._v("\n              Lista de todas solicitações de agendamentos de seus\n              colaboradores.\n            ")])],1)]),a("div",{staticClass:"col-md-6 col-sm-5"},[a("q-input",{staticClass:"q-ml-lg float-right",staticStyle:{"max-width":"40%"},attrs:{dense:"",filled:"",debounce:"300",placeholder:"Busca"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)],1)])]},proxy:!0},{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols.filter((function(e){return"id"!==e.name})),(function(s){return a("q-th",{key:s.name,attrs:{props:t}},[e._v(e._s(s.label))])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"requestUserRegister",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.requestUserRegister))]),a("q-td",{key:"requestUser",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.requestUser))]),a("q-td",{key:"startDate",attrs:{"auto-width":"",props:t}},[e._v(e._s(e._f("moment")(t.row.startDate,"DD-MM-YYYY")))]),a("q-td",{key:"finalDate",attrs:{"auto-width":"",props:t}},[e._v(e._s(e._f("moment")(t.row.finalDate,"DD-MM-YYYY")))]),a("q-td",{key:"days",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.days))]),a("q-td",{key:"status",attrs:{"auto-width":"",props:t}},[e._v(e._s(t.row.status))])],1)]}},{key:"bottom",fn:function(t){return e._e()}}],null,!0)}),a("q-dialog",{attrs:{persistent:""},model:{value:e.showDelete,callback:function(t){e.showDelete=t},expression:"showDelete"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-icon",{attrs:{size:"2em",name:"thumb_down",color:"red"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Deseja mesmo excluir a Reserva?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"","no-caps":"",label:"Vou pensar melhor...",color:"grey"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"","no-caps":"",label:"Sim, não quero mais!",color:"red"},on:{click:e.deletePerson}})],1)],1)],1)],1)},o=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("a481"),a("f751"),a("a34a")),l=a.n(i),c=a("448a"),d=a.n(c),u=(a("7f7f"),a("9523")),p=a.n(u),f=(a("96cf"),a("c973")),g=a.n(f),b=a("1f7c"),m=a("b4fb");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={name:"dt-colaborator",props:["btn-primary"],data:function(){return{filter:"",showDelete:!1,loading:!1,pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:10},visibleColumns:["requestUserRegister","requestUser","startDate","finalDate","days","status"],columns:[{align:"left",name:"id",label:"id",field:"id",sortable:!0},{align:"left",name:"requestUserRegister",label:"Matricula",field:"requestUserRegister",sortable:!0,style:"width: 10px",headerStyle:"width: 50px"},{align:"left",name:"requestUser",label:"Colaborador",field:"requestUser",sortable:!0,style:"width: 10px",headerStyle:"width: 50px"},{align:"left",name:"startDate",label:"Inicio de Férias",field:"startDate",sortable:!0},{align:"left",name:"finalDate",label:"Final de Férias",field:"finalDate",sortable:!0},{align:"left",name:"days",label:"Qtda dias com Direito a Férias",field:"days",sortable:!0},{align:"left",name:"status",label:"Status da Solicitação",field:"status",sortable:!0}],data:[]}},created:function(){var e=this;b["a"].$on("on-refresh-person",(function(t){e.refresh()}))},beforeDestroy:function(){b["a"].$off("on-refresh-person")},mounted:function(){this.refresh()},methods:{openDialog:function(){b["a"].$emit("on-new-person")},onRequest:function(e){var t=this;return g()(l.a.mark((function a(){var s,r,n,o,i,c,u,p;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.pagination,n=r.page,o=r.rowsPerPage,i=r.sortBy,c=r.descending,t.loading=!0,a.next=4,t.$axios.get(m["a"].vacation);case 4:u=a.sent,p=u.data,p=p.map((function(e){return h(h({},e),{},{requestUserRegister:e.requestUser.register,requestUserId:e.requestUser.id,requestUser:e.requestUser.name})})),(s=t.data).splice.apply(s,[0,t.data.length].concat(d()(p))),t.pagination.page=n,t.pagination.rowsPerPage=o,t.pagination.sortBy=i,t.pagination.descending=c,t.loading=!1;case 13:case"end":return a.stop()}}),a)})))()},openEdit:function(e){b["a"].$emit("on-edit-person",e)},openDelete:function(e){this.showDelete=!0,this.evaluationFocus=Object.assign({},e)},refresh:function(){this.onRequest({pagination:this.pagination,filter:void 0})},deletePerson:function(){var e=this;return g()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.delete("".concat("/person/{id}".replace("{id}",e.evaluationFocus.id),"/"));case 4:e.$q.notify({color:"positive",type:"positive",message:"Colaborador Excluido com Sucesso!"}),e.evaluationFocus=void 0,e.refresh(),e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},w=y,q=(a("e4ed"),a("2877")),D=a("eaac"),_=a("0016"),k=a("27f9"),x=a("bd08"),O=a("357e"),P=a("db86"),C=a("3b16"),j=a("24e8"),S=a("f09f"),U=a("a370"),Q=a("4b7e"),R=a("9c40"),F=a("7f67"),$=a("eebe"),A=a.n($),Y=Object(q["a"])(w,n,o,!1,null,"1f2bd7f7",null),E=Y.exports;A()(Y,"components",{QTable:D["a"],QIcon:_["a"],QInput:k["a"],QTr:x["a"],QTh:O["a"],QTd:P["a"],QPagination:C["a"],QDialog:j["a"],QCard:S["a"],QCardSection:U["a"],QCardActions:Q["a"],QBtn:R["a"]}),A()(Y,"directives",{ClosePopup:F["a"]});var B={name:"PageReserva",components:{"dt-reserva":E},data:function(){return{}}},M=B,I=a("9989"),T=Object(q["a"])(M,s,r,!1,null,null,null);t["default"]=T.exports;A()(T,"components",{QPage:I["a"]})},e4ed:function(e,t,a){"use strict";var s=a("449d"),r=a.n(s);r.a}}]);